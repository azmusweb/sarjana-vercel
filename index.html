<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Detik Pro Igniel</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{--primary:#0078c1;--dark:#333;--light:#f9f9f9;--border:#ddd;--hover:#005a9c;}
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:'Open Sans',sans-serif;background:var(--light);color:var(--dark);}
    header{background:var(--primary);color:#fff;padding:10px 20px;display:flex;align-items:center;justify-content:space-between;}
    header img{height:40px;}
    .hamburger{display:none;cursor:pointer;font-size:1.5rem;}
    nav{background:#fff;border-bottom:1px solid var(--border);display:flex;flex-wrap:wrap;justify-content:center;padding:5px 0;transition:transform .3s;}
    nav.closed{transform:translateY(-100%);}
    nav .menu{position:relative;list-style:none;margin:0 15px;}
    nav .menu>a{color:var(--dark);text-decoration:none;font-weight:600;padding:8px;}
    nav .menu:hover>a{color:var(--primary);}
    nav .submenu{display:none;position:absolute;top:100%;left:0;background:#fff;border:1px solid var(--border);z-index:10;transition:opacity .3s;}
    nav .submenu a{display:block;padding:8px 12px;color:var(--dark);text-decoration:none;white-space:nowrap;}
    nav .submenu a:hover{background:var(--border);}
    nav .menu:hover .submenu{display:block;opacity:1;}

    .slider{position:relative;max-width:1200px;margin:20px auto;overflow:hidden;}
    .slides{display:flex;transition:transform .5s ease;}
    .slide{min-width:100%;position:relative;}
    .slide img{width:100%;display:block;}
    .slide .caption{position:absolute;bottom:10%;left:5%;background:rgba(0,0,0,.6);color:#fff;padding:8px 12px;font-size:1.2rem;border-radius:4px;}

    .featured{max-width:1200px;margin:20px auto;padding:0 10px;}
    .featured img{width:100%;height:auto;border-radius:4px;}
    .featured h2{margin:10px 0;font-size:1.5rem;color:var(--dark);}

    .main{display:flex;flex-wrap:wrap;max-width:1200px;margin:20px auto;gap:20px;padding:0 10px;}
    .content{flex:3;min-width:300px;}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:15px;}
    .card{background:#fff;border:1px solid var(--border);border-radius:4px;overflow:hidden;position:relative;transition:transform .3s;}
    .card:hover{transform:translateY(-4px);}
    .card img{width:100%;}
    .card .info{padding:10px;}
    .card h2{font-size:1rem;margin-bottom:6px;color:var(--dark);}
    .card p{font-size:.85rem;color:#555;margin-bottom:8px;}
    .card a{color:var(--primary);text-decoration:none;font-size:.9rem;font-weight:600;}
    .card a:hover{color:var(--hover);}

    .ad-slot{background:#eee;border:1px dashed var(--border);text-align:center;padding:20px;margin-bottom:20px;color:#888;}

    aside{flex:1;min-width:200px;}
    .widget{background:#fff;border:1px solid var(--border);border-radius:4px;margin-bottom:20px;overflow:hidden;}
    .widget h3{background:var(--primary);color:#fff;padding:8px;font-size:1rem;}
    .widget ul{list-style:none;padding:10px;}
    .widget li{margin-bottom:8px;opacity:0;transform:translateX(-10px);animation:fadeIn .5s forwards;}
    .widget li:nth-child(1){animation-delay:.2s;}
    .widget li:nth-child(2){animation-delay:.3s;}
    .widget li:nth-child(3){animation-delay:.4s;}
    .widget li:nth-child(4){animation-delay:.5s;}
    .widget a{color:var(--dark);text-decoration:none;font-size:.9rem;}
    .widget a:hover{color:var(--primary);}

    #detail{display:none;max-width:800px;margin:20px auto;background:#fff;border:1px solid var(--border);border-radius:4px;padding:20px;}
    #detail h2{margin-bottom:10px;color:var(--dark);}
    #detail .meta{font-size:.85rem;color:#777;margin-bottom:15px;}
    #detail img{width:100%;border-radius:4px;margin-bottom:15px;}
    #detail .body{line-height:1.6;margin-bottom:15px;}
    #detail .share{display:flex;gap:10px;margin-bottom:20px;}
    #detail .share a{color:var(--dark);font-size:1.2rem;transition:color .3s;}
    #detail .share a:hover{color:var(--primary);}
    #detail button{background:var(--primary);color:#fff;border:none;padding:8px 12px;cursor:pointer;border-radius:4px;font-size:.9rem;}
    #detail button:hover{background:var(--hover);}

    footer{text-align:center;padding:15px;background:#eee;font-size:.85rem;color:#555;margin-top:40px;}

    @keyframes fadeIn{to{opacity:1;transform:translateX(0);}}
    @media(max-width:768px){
      .hamburger{display:block;}
      nav{position:absolute;top:60px;left:0;width:100%;transform:translateY(-100%);}
      nav.open{transform:translateY(0);}
      nav .menu{width:100%;text-align:center;margin:10px 0;}
      nav .submenu{position:static;border:none;}
      .main{flex-direction:column;}
    }
  </style>
</head>
<body>

  <header>
    <img src="https://via.placeholder.com/150x40?text=LOGO" alt="Logo">
    <div class="social-top">
      <a href="#"><img src="https://via.placeholder.com/24?text=F" alt="FB"></a>
      <a href="#"><img src="https://via.placeholder.com/24?text=T" alt="TW"></a>
      <a href="#"><img src="https://via.placeholder.com/24?text=I" alt="IG"></a>
    </div>
    <div class="hamburger" onclick="toggleNav()">‚ò∞</div>
  </header>

  <nav id="navMenu" class="closed">
    <div class="menu"><a href="#" onclick="goHome()">Home</a></div>
    <div class="menu"><a href="#">Berita ‚ñº</a>
      <div class="submenu">
        <a href="#" onclick="filterCat('Nasional')">Nasional</a>
        <a href="#" onclick="filterCat('Internasional')">Internasional</a>
        <a href="#" onclick="filterCat('Teknologi')">Teknologi</a>
        <a href="#" onclick="filterCat('Hiburan')">Hiburan</a>
        <a href="#" onclick="filterCat('Olahraga')">Olahraga</a>
      </div>
    </div>
    <div class="menu"><a href="#" onclick="filterCat('Ekonomi')">Ekonomi</a></div>
    <div class="menu"><a href="#" onclick="filterCat('Olahraga')">Olahraga</a></div>
    <div class="menu"><a href="#" onclick="filterCat('Hiburan')">Hiburan</a></div>
    <div class="menu"><a href="#" onclick="filterCat('Lifestyle')">Lifestyle</a></div>
  </nav>

  <div class="slider"><div class="slides" id="slides"></div></div>

  <div class="featured">
    <img id="feat-img" src="https://via.placeholder.com/1200x600" alt="">
    <h2 id="feat-title">Featured Article Title</h2>
  </div>

  <div class="main">
    <div class="content">
      <div class="ad-slot">[ AD SLOT ]</div>
      <div class="grid" id="grid"></div>
      <div class="ad-slot">[ AD SLOT ]</div>
    </div>
    <aside>
      <div class="widget"><h3>Trending</h3><ul id="trending"></ul></div>
      <div class="widget"><h3>Terpopuler</h3><ul id="popular"></ul></div>
      <div class="widget"><h3>Follow Kami</h3><ul>
        <li><a href="#">Facebook</a></li>
        <li><a href="#">Twitter</a></li>
        <li><a href="#">Instagram</a></li>
        <li><a href="#">YouTube</a></li>
      </ul></div>
      <div class="widget"><h3>Iklan</h3><div class="ad-slot">[ ADSENSE ]</div></div>
    </aside>
  </div>

  <div id="detail">
    <button onclick="goHome()">‚Üê Kembali</button>
    <h2 id="d-title"></h2>
    <p class="meta" id="d-meta"></p>
    <img id="d-img" src="" alt="">
    <div class="share">
      <a href="#" title="Share Facebook">üëç</a>
      <a href="#" title="Share Twitter">üê¶</a>
      <a href="#" title="Share WhatsApp">üí¨</a>
      <a href="#" title="Share LinkedIn">üîó</a>
    </div>
    <p class="body" id="d-body"></p>
  </div>

  <footer>&copy; 2025 Detik Pro Clone</footer>

  <script>
    // Ambil data dari Google Spreadsheet via OpenSheet
    const URL = 'https://opensheet.vercel.app/1oMHeKOF2_D6deuV8T1l10_GB0wgsPGLV7WrPcJ6Qxww/berita';
    let articles = [];

    fetch(URL)
      .then(res => res.json())
      .then(json => {
        articles = json;
        init();
      });

    function init(){
      renderSlider();
      renderFeatured();
      renderGrid();
      renderWidgets();
      checkSlug();
    }

    function toggleNav(){
      document.getElementById('navMenu').classList.toggle('open');
    }

    function renderSlider(){
      const s = document.getElementById('slides');
      articles.slice(0,5).forEach(a => {
        const div = document.createElement('div');
        div.className = 'slide';
        div.innerHTML = `<img src="${a.Gambar}" alt=""><div class="caption">${a.Judul}</div>`;
        s.appendChild(div);
      });
      let idx = 0;
      setInterval(()=>{
        idx = (idx + 1) % s.children.length;
        s.style.transform = `translateX(${-idx*100}%)`;
      }, 3000);
    }

    function renderFeatured(){
      const a = articles[0] || {};
      document.getElementById('feat-img').src = a.Gambar || '';
      document.getElementById('feat-title').textContent = a.Judul || '';
    }

    function renderGrid(cat){
      goHomeUI();
      const g = document.getElementById('grid');
      g.innerHTML = '';
      articles
        .filter(a => !cat || a.Label === cat)
        .forEach(a => {
          const c = document.createElement('div');
          c.className = 'card';
          c.innerHTML = `
            <img src="${a.Gambar}" alt="">
            <div class="info">
              <h2><a href="?slug=${a.Slug}">${a.Judul}</a></h2>
              <p>${a.Tanggal}</p>
            </div>`;
          c.querySelector('a').onclick = e => { e.preventDefault(); showDetail(a.Slug); };
          g.appendChild(c);
        });
    }

    function renderWidgets(){
      const t = document.getElementById('trending'), p = document.getElementById('popular');
      t.innerHTML = p.innerHTML = '';
      articles.slice(0,5).forEach(a => makeLI(t,a));
      [...articles].sort((a,b)=>b.View - a.View).slice(0,5).forEach(a => makeLI(p,a));
    }

    function makeLI(parent,a){
      const li = document.createElement('li');
      li.innerHTML = `<a href="?slug=${a.Slug}">${a.Judul}</a>`;
      li.querySelector('a').onclick = e => { e.preventDefault(); showDetail(a.Slug); };
      parent.appendChild(li);
    }

    function checkSlug(){
      const s = new URLSearchParams(location.search).get('slug');
      if(s) showDetail(s);
    }

    function showDetail(slug){
      const a = articles.find(x=>x.Slug===slug);
      if(!a) return goHome();
      document.getElementById('d-title').textContent = a.Judul;
      document.getElementById('d-meta').textContent = `${a.Tanggal} | ${a.Label}`;
      document.getElementById('d-img').src = a.Gambar;
      document.getElementById('d-body').textContent = a.Isi;
      document.querySelector('.main').style.display='none';
      document.querySelector('.slider').style.display='none';
      document.querySelector('.featured').style.display='none';
      document.getElementById('detail').style.display='block';
    }

    function goHome(){
      history.replaceState({},'',location.pathname);
      renderGrid();
    }

    function goHomeUI(){
      document.querySelector('.main').style.display='flex';
      document.querySelector('.slider').style.display='block';
      document.querySelector('.featured').style.display='block';
      document.getElementById('detail').style.display='none';
    }

    function filterCat(c){
      renderGrid(c);
    }
  </script>

</body>
</html>
